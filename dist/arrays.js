// Generated by LiveScript 1.2.0
'use strict';
var isType, curry, random, empty, clone, each, map, filter, flatten, shuffle, reverse, partition, unique, uniqueBy, difference, intersection, union, countBy, groupBy, sortBy, splitAt, indexOf, IndicesOf, findIndex, findIndices, out$ = typeof exports != 'undefined' && exports || this, slice$ = [].slice;
isType = require('./types').isType;
curry = require('./funcs').curry;
random = require('./numbers').random;
out$.empty = empty = function(xs){
  return xs.length === 0;
};
out$.clone = clone = function(xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    results$.push(x);
  }
  return results$;
};
out$.each = each = curry(function(f, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    f(x, i);
  }
  return xs;
});
out$.map = map = curry(function(f, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    results$.push(f(x, i));
  }
  return results$;
});
out$.filter = filter = curry(function(f, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x, i)) {
      results$.push(x);
    }
  }
  return results$;
});
out$.flatten = flatten = curry(function(xs){
  var result, i$, len$, x;
  result = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (isType('Array', x)) {
      result.push(flatten(x));
    } else {
      result.push(x);
    }
  }
  return result;
});
out$.shuffle = shuffle = function(xs){
  var result, i$, len$, i, x, r;
  result = new Array(xs.length);
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    r = random(i);
    if (r !== i) {
      result[i] = result[r];
    }
    result[r] = xs[i];
  }
  return result;
};
out$.reverse = reverse = function(xs){
  var result, i, len;
  result = [];
  i = 0;
  len = xs.length;
  while (len !== 0) {
    result[--len] = xs[i++];
  }
  return result;
};
out$.partition = partition = curry(function(f, xs){
  var passed, failed, i$, len$, x;
  passed = [];
  failed = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    (f(x) ? passed : failed).push(x);
  }
  return [passed, failed];
});
out$.unique = unique = function(xs){
  var result, i$, len$, x;
  result = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!in$(x, result)) {
      result.push(x);
    }
  }
  return result;
};
out$.uniqueBy = uniqueBy = curry(function(f, xs){
  var seen, i$, len$, x, val, results$ = [];
  seen = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    val = f(x);
    if (in$(val, seen)) {
      continue;
    }
    seen.push(val);
    results$.push(x);
  }
  return results$;
});
out$.difference = difference = function(xs){
  var yss, result, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  result = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (in$(x, ys)) {
        continue outer;
      }
    }
    result.push(x);
  }
  return result;
};
out$.intersection = intersection = function(xs){
  var yss, result, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  result = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (!in$(x, ys)) {
        if (!in$(x, ys)) {
          continue outer;
        }
      }
    }
    result.push(x);
  }
  return result;
};
out$.union = union = function(){
  var xss, result, i$, len$, xs, j$, len1$, x;
  xss = slice$.call(arguments);
  result = [];
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    for (j$ = 0, len1$ = xs.length; j$ < len1$; ++j$) {
      x = xs[j$];
      if (in$(!x, result)) {
        result.push(x);
      }
    }
  }
  return result;
};
out$.countBy = countBy = curry(function(f, xs){
  var result, i$, len$, x, key;
  result = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in result) {
      result[key] += 1;
    } else {
      result[key] = 1;
    }
  }
  return result;
});
out$.groupBy = groupBy = curry(function(f, xs){
  var result, i$, len$, x, key;
  result = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in result) {
      result[key].push(x);
    } else {
      result[key] = [x];
    }
  }
  return result;
});
out$.sortBy = sortBy = curry(function(f, xs){
  return xs.concat().sort(function(x, y){
    var a, b;
    a = f(x);
    b = f(y);
    if (a > b) {
      return 1;
    } else if (a < b) {
      return -1;
    } else {
      return 0;
    }
  });
});
out$.splitAt = splitAt = curry(function(n, xs){
  if (n < 0) {
    n = 0;
  }
  return [xs.slice(0, n), xs.slice(n)];
});
out$.indexOf = indexOf = curry(function(elem, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === elem) {
      return i;
    }
  }
});
out$.IndicesOf = IndicesOf = curry(function(elem, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === elem) {
      results$.push(i);
    }
  }
  return results$;
});
out$.findIndex = findIndex = curry(function(f, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      return i;
    }
  }
});
out$.findIndices = findIndices = curry(function(f, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      results$.push(i);
    }
  }
  return results$;
});
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}